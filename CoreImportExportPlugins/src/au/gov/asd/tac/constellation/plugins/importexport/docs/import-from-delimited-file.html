<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Import From Delimited File</title>
        <link rel="stylesheet" href="nbdocs://au.gov.asd.tac.constellation.preferences/au/gov/asd/tac/constellation/preferences/constellation.css" type="text/css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>Import From Delimited File</h1>
        <table border="1">
            <caption>Import From Delimited File Actions</caption>
            <tr>
                <th scope="col">Constellation Action</th>
                <th scope="col">Keyboard Shortcut</th>
                <th scope="col">User Action</th>
                <th scope="col">Menu Icon</th>
            </tr>
            <tr>
                <td>
                    Open Delimited File Importer
                </td>
                <td>
                    
                </td>
                <td>
                    File -&gt; Import -&gt; From Delimited File...
                </td>
                <td style="text-align: center">
                    <img src="../delimited/resources/importDelimited.png" alt="Import From Delimited File Icon">
                </td>
            </tr>
        </table>
        
        <h2>Introduction</h2>
        <p>
            The "Import From Delimited File" window allows you to import data from the following sources:
        </p>
        <ul>
            <li>Comma-separated values (CSV)</li>
            <li>Tab-separated values (TSV)</li>
            <li>Excel</li>
            <li>XML</li>
            <li>JSON</li>
            <li>SQLite</li>
        </ul>
        
        <div style="text-align: center">
            <img src="resources/DelimitedFileImporter.png" alt="Delimited File Importer">
        </div>

        <h2>High Level Workflow Steps</h2>
        <p>
            The following is a high level workflow an analyst can follow (explained in detail later on):
        </p>
        <ol>
            <li>Select the file type you want to import with Import File Parser</li>
            <li>Click on the <img src="resources/plus_coloured.png" alt="Add File Button"> to add files.</li>
            <li>Select your destination graph.</li>
            <li>Drag and drop attributes from the bottom pane onto your columns.</li>
            <li>Right click an attribute for more options.</li>
            <li>Click on the Import button to import the data to your destination graph.</li>
            <li>Save your template using Options -&gt; Save.</li>
            <li>Share the template</li>
        </ol>
        <p>
            Hints:
        </p>
        <ul>
            <li>See all supported attributes using Options -&gt; Show all schema attributes</li>
            <li>Hover over the attribute name for a tooltip.</li>
            <li>Filter in the Configuration Pane by adding searches of the form &lt;column_name&gt; =="&lt;search text&gt;" E.g.: first_name=="Nick".</li>
        </ul>

        <h2>Add and Remove Files to Import</h2>
        <p>
            Add files to import using the <img src="resources/plus_coloured.png" alt="Add File Button"> and remove a file using the 
            <img src="resources/minus_coloured.png" alt="Remove File Button">. Once a file has been selected, the full name will 
            appear. If the entire file location is not visible, extend the window to see the full name.
        </p>
        <p>
            Once you add a file, the Configuration section will display the first 100 rows of the file as a preview. If you have 
            imported multiple files, selecting the file will update the preview.
        </p>
        <p>
            With the "Initialise With Schema" option enabled, new nodes and transactions added to the graph will follow the rules
            governed by the schema. If this is not enabled, nodes imported will not have attributes such as label and icon defined.
        </p>

        <h2>Select the Destination Graph</h2>
        <p>
            Select the destination graph from the drop-down list. Once selected, the attributes in the configuration pane update 
            depending on what attributes are supported by the schema of that graph.
        </p>

        <h2>Apply Attributes</h2>
        <p>
            Applying an attribute to the column is simple as dragging and dropping an attribute onto a column in the preview.
        </p>
        <p>
            By default, not all attributes available to the selected schema are visible because there can be an overwhelming number
            of attributes depending on the schema. To see all possible attributes you can apply to a graph go to
            Options -&gt; Show all schema attributes.
        </p>
        <p>
            If you have a specific format for example the DateTime, then you can right click on the DateTime attribute and select
            the format from the drop down list or enter your own.
        </p>
        <p>
            If you want to create your own attributes then you can by clicking on <img src="resources/plus_black.png" alt="Add Attribute Icon">
            and selecting a type and entering a label.
        </p>

        <h2>Directed and Undirected Transactions</h2>
        <p>
            By default, transactions are created as directed. In the Transaction Attributes column there is a pseudo-attribute
            called "__directed__" (different from "directed") which can be used to create directed and undirected transactions
            as required. The "__directed__" pseudo-attribute is a boolean that will cause a transaction to be directed when its 
            value is "true" (case insensitive), and undirected otherwise.
        </p>

        <h2>Import Data</h2>
        <p>
            Once your configuration is finished, import the entire file with the format you have applied by clicking on the Import
            button located at the bottom right hand corner.
        </p>

        <h2>Save and Load Import Templates</h2>
        <p>
            An import configuration can be saved as a template, and loaded at a later time, using the "Options" menu
            in the top left corner.
        </p>
        <p>
            When a template is saved, the import definition name is used to name the saved query. If a query of that name
            has already been saved, you will be asked if you want to overwrite it. Templates are saved in the directory
            "&lt;HOME_DIRECTORY&gt;/.CONSTELLATION/ImportDelimited". (The name of the file in which the
            template is saved is encoded so it doesn't clash with file system limitations.) Files in this directory
            can be deleted using your favourite file management utility.
        </p>
        <p>
            Before loading a template, select the files you want to import. The loaded template then attempts to match
            the column names it knows with the column names in the current files. If a template is loaded before any files
            are selected, there are no columns to match against.
        </p>
        <p>
            When you select "Load...", you will be presented with a list of saved templates. Select one from the list and
            select Ok. The template will be loaded and will appear as it was when it was saved.
        </p>

        <h2>Share Templates</h2>
        <p>
            To share the template do the following:
        </p>
        <ol>
            <li>Click on Help -&gt; User Directory</li>
            <li>Navigate to the folder called "ImportDelimited"</li>
            <li>Give the appropriate .json file to a recipient</li>
            <li>Upon receiving the file, they can follow these steps to save that .json file inside the "ImportDelimited" directory</li>
        </ol>
        <p>
            NOTE: The .json filename should not change!
        </p>
    </body>
</html>
