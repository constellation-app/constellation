<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Histogram</title>
        <link rel="stylesheet" href="nbdocs://au.gov.asd.tac.constellation.preferences/au/gov/asd/tac/constellation/preferences/constellation.css" type="text/css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>Histogram</h1>
        <table border="1">
            <caption>Histogram Actions</caption>
            <tr>
                <th scope="col">Constellation Action</th>
                <th scope="col">Keyboard Shortcut</th>
                <th scope="col">User Action</th>
                <th scope="col">Menu Icon</th>
            </tr>
            <tr>
                <td>
                    Open Histogram View
                </td>
                <td>
                    Ctrl + Shift + H
                </td>
                <td>
                    Views -&gt; Histogram
                </td>
                <td>
                    <div style="text-align: center">
                        <img src="../resources/histogram.png" alt = "" width="16" height="16">
                    </div>
                </td>
            </tr>
        </table>
        
        <h2>Introduction</h2>
        <p>
            The Histogram View provides a way to summarise both the structural properties of a graph and the values of attributes, 
            as well as the capability to filter and make selections based on these properties.
        </p>
        
        <img src="resources/Histogram-Overview.png" alt="Histogram View">
        <h2>Histogram Panel</h2>
        <p>
            The Histogram Panel displays an interactive summary of information on the graph in a visual bar chart. The "Property 
            Value" column is a list of unique values for a particular property, and the "Count" column displays the number of 
            graph elements which share that property value.
        </p>
        <p>
            The bar length indicates the proportion of elements that share that property when compared to the value that is most 
            prevalent on the graph. It is blue for unselected elements, and red for selected elements. When only a portion of the 
            elements sharing a property value are selected on the graph, the count value will also change to the ratio of selected 
            elements / total elements sharing that property value. It will also be coloured both red and blue, with the proportion 
            of red matching the ratio of selected / unselected.
        </p>
        <p>
            Left clicking on a row in the Histogram Panel will select all elements on the graph which share that Property Value. 
            Holding left click and dragging across multiple rows will select multiple rows. Holding the shift key while left 
            clicking will add the clicked row elements to the selection. Holding the ctrl key while left clicking will toggle the 
            selection of the clicked row elements.
        </p>
        <p>
            Right clicking on a row in the Histogram Panel will open up a context menu allowing you to copy selected property 
            values (and optionally their counts) to the clipboard.
        </p>
        
        <h2>Graph Element Buttons</h2>
        <p>
            The Graph Element Buttons will toggle which graph elements the Histogram View will list. Options include Node, 
            Transaction, Edge, and Link.
        </p>
        <p>
            NOTE: Edges and Links in Constellation do not have Attributes.
        </p>
        
        <h2>Category Drop Down List</h2>
        <p>
            The Category Drop Down List will display categories of properties to display in the Histogram View. Depending on the 
            Graph Element type, this list will change.
        </p>
        
        <h3>Node Categories</h3>
        <ul>
            <li><em>Attribute</em> - 
                Properties listed will be the attributes of the node.
            </li>
            <li><em>Graph Property</em> - 
                Properties will include graph properties such as neighbour count and transaction count.
            </li>
            <li><em>Sum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the sum of the values of these 
                attributes for all adjacent transactions.
            </li>
            <li><em>Average Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the average of the values of these 
                attributes for all adjacent transactions.
            </li>
            <li><em>Maximum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the maximum of the values of these 
                attributes for all adjacent transactions.
            </li>
            <li><em>Minimum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the minimum of the values of these 
                attributes for all adjacent transactions.
            </li>
            <li><em>Unique Values Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the list of unique values for these 
                attributes for all adjacent transactions.
            </li>
            <li><em>Sum Neighbour Attribute</em> - 
                Properties will be the list of node attributes, and the value will be the sum of the values of these attributes 
                for all neighbouring nodes.
            </li>
            <li><em>Average Neighbour Attribute</em> - 
                Properties will be the list of node attributes, and the value will be the average of the values of these attributes 
                for all neighbouring nodes.
            </li>
            <li><em>Maximum Neighbour Attribute</em> - 
                Properties will be the list of node attributes, and the value will be the maximum of the values of these attributes 
                for all neighbouring nodes.
            </li>
            <li><em>Minimum Neighbour Attribute</em> - 
                Properties will be the list of node attributes, and the value will be the minimum of the values of these attributes 
                for all neighbouring nodes.
            </li>
            <li><em>Unique Values Neighbour Attribute</em> - 
                Properties will be the list of node attributes, and the value will be the list of unique values for these attributes 
                for all neighbouring nodes.
            </li>
        </ul>
        
        <h3>Transaction Categories</h3>
        <ul>
            <li><em>Attribute</em> - 
                Properties listed will be the attributes of the transaction.
            </li>
            <li><em>Graph Property</em> - 
                Properties will include transaction properties such as transaction direction.
            </li>
            <li><em>Source Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the source node 
                of the transaction.
            </li>
            <li><em>Destination Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the destination 
                node of the transaction.
            </li>
        </ul>
        
        <h3>Edge Categories</h3>
        <ul>
            <li><em>Attribute</em> - 
                Properties listed will be the attributes of the edge.
            </li>
            <li><em>Graph Property</em> - 
                Properties will include transaction properties such as transaction count.
            </li>
            <li><em>Source Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the source node 
                of the edge.
            </li>
            <li><em>Destination Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the destination 
                node of the edge.
            </li>
            <li><em>Sum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the sum of the values of these 
                attributes for all transactions contained within the edge.
            </li>
            <li><em>Average Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the average of the values of these 
                attributes for all transactions contained within the edge.
            </li>
            <li><em>Maximum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the maximum of the values of these 
                attributes for all transactions contained within the edge.
            </li>
            <li><em>Minimum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the minimum of the values of these 
                attributes for all transactions contained within the edge.
            </li>
            <li><em>Unique Values Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the list of unique values for these 
                attributes for all transactions contained within the edge.
            </li>
        </ul>
        
        <h3>Link Categories</h3>
        <ul>
            <li><em>Attribute</em> - 
                Properties listed will be the attributes of the link.
            </li>
            <li><em>Graph Property</em> - 
                Properties will include transaction properties such as transaction count.
            </li>
            <li><em>Source Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the source node 
                of the link (source has lower graph ID).
            </li>
            <li><em>Destination Node Attribute</em> - 
                Properties will be the list of node attributes, and the value will be value of these attributes for the destination 
                node of the link (destination has higher graph ID).
            </li>
            <li><em>Sum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the sum of the values of these 
                attributes for all transactions contained within the link.
            </li>
            <li><em>Average Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the average of the values of these 
                attributes for all transactions contained within the link.
            </li>
            <li><em>Maximum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the maximum of the values of these 
                attributes for all transactions contained within the link.
            </li>
            <li><em>Minimum Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the minimum of the values of these 
                attributes for all transactions contained within the link.
            </li>
            <li><em>Unique Values Transaction Attribute</em> - 
                Properties will be the list of transaction attributes, and the value will be the list of unique values for these 
                attributes for all transactions contained within the link.
            </li>
        </ul>
        
        <h2>Property Drop Down List</h2>
        <p>
            The Property Drop Down List will display properties to histogram. The properties listed will change depending on the 
            Graph Element and Category selected - see above.
        </p>
        <p>
            The Format Drop Down List will provide different ways of grouping values for properties, depending on the type.
        </p>
        <ul>
            <li><em>String</em> - 
                Allows for grouping by substring, case (upper or lower) and find (which accepts regular expressions).
            </li>
            <li><em>Numeric</em> - 
                Allows for binning into buckets of values.
            </li>
            <li><em>DateTime</em> - 
                Allows for grouping by various DateTime formats - Hour of Day, Day of Week, Month of Year, Date, Year, and so on.
            </li>
            <li><em>Schema Type</em> - 
                Allows for grouping by Top-Level Schema Types
            </li>
        </ul>
        
        <h2>Sort Drop Down List</h2>
        <p>
            The Sort Drop Down List will display options for sorting the rows of the Histogram.
        </p>
        <p>
            The Arrow Button will toggle Ascending/Descending values.
        </p>
        <ul>
            <li><em>Label</em> - 
                Will sort the rows of the Histogram alphabetically by Property Value label.
            </li>
            <li><em>Total Count</em> - 
                Will sort the rows of the Histogram in order of Count values.
            </li>
            <li><em>Selected Count</em> - 
                Will sort the rows of the Histogram in order of the number of elements sharing a Property Value that are selected.
            </li>
            <li><em>Selected Proportion</em> - 
                Will sort the rows of the Histogram in order of the proportion of elements sharing a Property Value that are 
                selected.
            </li>
        </ul>
        
        <h2>Selection Mode Drop Down List</h2>
        <p>
            The Selection Mode will toggle the interactivity of the Histogram View.
        </p>
        <ul>
            <li><em>Free Selection</em> - 
                The default setting. Clicking rows which change the selection on the graph. Left clicking on a row in the Histogram 
                Panel will select all elements on the graph which share that Property Value. Holding left click and dragging across 
                multiple rows will select multiple rows. Holding the shift key while left clicking will add the clicked row elements 
                to the selection. Holding the ctrl key while left clicking will toggle the selection of the clicked row elements. 
            </li>
            <li><em>Within Existing Selection</em> - 
                Clicking rows will not change the selection on the graph until the adjacent "Select" button is pressed. This mode 
                will allow for filtering on the existing graph selection. Clicking on a row with selected (red) elements will change 
                their colour to yellow. Pressing the adjacent "Select" button will change the selection on the graph to all yellow 
                elements. Holding the shift key while left clicking will change red elements of rows to yellow. Holding the ctrl 
                key while left clicking will toggle elements of rows between red and yellow.
                <img src="resources/Histogram-Within.png" alt="Within Existing Selection example">
            </li>
            <li><em>Add To Existing Selection</em> - 
                Clicking rows will not change the selection on the graph until the adjacent "Select" button is pressed. This mode 
                will allow for adding rows to the existing graph selection. Clicking on a row with unselected (blue) elements will 
                change their colour to yellow. Pressing the adjacent <strong>Select</strong> button will change the selection on 
                the graph to all yellow elements. Holding the shift key while left clicking will change blue elements of rows to 
                yellow. Holding the ctrl key while left clicking will toggle elements of rows between blue and yellow.
                <img src="resources/Histogram-Add.png" alt="Add to Existing Selection example">
            </li>
        </ul>
        
        <h2>Filter</h2>
        <img src="resources/Histogram-Filter.png" alt="">
        <p>
            The Filter on Selection button will hide unselected elements from the Histogram View, until such time as the Clear 
            Filter Button is pressed. The Clear Filter Button will activate only when a Histogram filter is in place, and as such 
            is useful to check when elements are missing from the Histogram View.
        </p>
        
        <h2>Actions</h2>
        <p>
            Pressing the Actions button will reveal two options: Save Bins To Graph and Save Bins To Clipboard
        </p>
        <ul>
            <li><em>Save Bins to Graph</em> - 
                Will add a histogram_bin attribute to the graph, and the value of which corresponding to the Property Value of the 
                node or transaction.
            </li>
            <li><em>Save Bins to Clipboard</em> - 
                Will copy the Property Values and Counts displayed in the Histogram View to the clipboard, which can be pasted into 
                a text editor in a tab delimited format.
            </li>
        </ul>
    </body>
</html>
