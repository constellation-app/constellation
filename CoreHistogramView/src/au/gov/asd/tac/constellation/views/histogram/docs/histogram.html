<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Histogram</title>
        <link rel="stylesheet" href="nbdocs://au.gov.asd.tac.constellation.preferences/au/gov/asd/tac/constellation/preferences/constellation.css" type="text/css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>Histogram</h1>
        <table border="1">
            <caption>How to open Histogram View</caption>
            <tr>
                <th scope="col">
                    <strong>CONSTELLATION Action</strong>
                </th>
                <th scope="col">
                    <strong>User Action</strong>
                </th>
                <th scope="col">
                    <strong>Menu Icon</strong>
                </th>
            </tr>
            <tr>
                <td>
                    Open Histogram View
                </td>
                <td>
                    Views -> Histogram View<br>
                    Keyboard Shortcut: Ctrl + Shift + H
                </td>
                <td style="text-align: center">
                    <img src="../resources/histogram.png" alt="Histogram View Icon">
                </td>
            </tr>
        </table>
        <h1>Introduction</h1>
        <p>The Histogram View provides a way to summarise both the structural properties of a graph and the values of attributes, 
            as well as the capability to filter and make selections based on these properties.</p>
        <h1>Components of the Histogram View</h1>
        <img src="resources/Histogram-Overview.png" alt="">
        <h2>Histogram Panel</h2>
        <p>The Histogram Panel displays an interactive summary of information on the graph in a visual bar chart. The left column, <strong>Property Value</strong>, is a list of unique values 
            for a particular property, and the <strong>Count</strong> column displays the number of graph elements which share that property value. <br />
            The bar length indicates the proportion of elements that share that property when compared to the value that is most prevalent on the graph. It is blue for unselected elements, 
            and red for selected elements. <br />
            When only a portion of the elements sharing a property value are selected on the graph, the count value will also change to the ratio of selected elements / total elements 
            sharing that property value. It will also be coloured both red and blue, with the proportion of red matching the ratio of selected / unselected. <br />
            Left clicking on a row in the Histogram Panel will select all elements on the graph which share that Property Value. <br />
            Holding left click and dragging across multiple rows will select multiple rows. <br />
            Holding the shift key while left clicking will add the clicked row elements to the selection. <br />
            Holding the ctrl key while left clicking will toggle the selection of the clicked row elements.
        </p>
        <h2>Graph Element Buttons</h2>
        <img src="resources/Histogram-Buttons.png" alt="">
        <p>The Graph Element Buttons will toggle which graph elements the Histogram View will list. Options include Node, Transaction, Edge, and Link. <br />
            Note that Edges and Links in Constellation do not have Attributes.
        </p>
        <h2>Category Drop Down List</h2>
        <p>The Category Drop Down List will display categories of properties to display in the Histogram View. Depending on the Graph Element type, this list will change.</p>
        <h3>Node Categories</h3>
        <ol>
            <li>
                Attribute - Properties listed will be the attributes of the node.
            </li>
            <li>
                Graph Property - Properties will include graph properties such as neighbour count and transaction count.
            </li>
            <li>
                Sum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the sum of the values of 
                these attributes for all adjacent transactions.
            </li>
            <li>
                Average Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the average of the values of 
                these attributes for all adjacent transactions.
            </li>
            <li>
                Maximum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the maximum of the values of 
                these attributes for all adjacent transactions.
            </li>
            <li>
                Minimum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the minimum of the values of 
                these attributes for all adjacent transactions.
            </li>
            <li>
                Unique Values Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the list of unique values for 
                these attributes for all adjacent transactions.
            </li>
            <li>
                Sum Neighbour Attribute - Properties will be the list of node attributes, and the value will be the sum of the values of 
                these attributes for all neighbouring nodes.
            </li>
            <li>
                Average Neighbour Attribute - Properties will be the list of node attributes, and the value will be the average of the values of 
                these attributes for all neighbouring nodes.
            </li>
            <li>
                Maximum Neighbour Attribute - Properties will be the list of node attributes, and the value will be the maximum of the values of 
                these attributes for all neighbouring nodes.
            </li>
            <li>
                Minimum Neighbour Attribute - Properties will be the list of node attributes, and the value will be the minimum of the values of 
                these attributes for all neighbouring nodes.
            </li>
            <li>
                Unique Values Neighbour Attribute - Properties will be the list of node attributes, and the value will be the list of unique values for 
                these attributes for all neighbouring nodes.
            </li>
        </ol>
        <h3>Transaction Categories</h3>
        <ol>
            <li>
                Attribute - Properties listed will be the attributes of the transaction.
            </li>
            <li>
                Graph Property - Properties will include transaction properties such as transaction direction.
            </li>
            <li>
                Source Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the source node of the transaction.
            </li>
            <li>
                Destination Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the destination node of the transaction.
            </li>
        </ol>
        <h3>Edge Categories</h3>
        <ol>
            <li>
                Attribute - Properties listed will be the attributes of the edge.
            </li>
            <li>
                Graph Property - Properties will include transaction properties such as transaction count.
            </li>
            <li>
                Source Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the source node of the edge.
            </li>
            <li>
                Destination Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the destination node of the edge.
            </li>
            <li>
                Sum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the sum of the values of 
                these attributes for all transactions contained within the edge.
            </li>
            <li>
                Average Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the average of the values of 
                these attributes for all transactions contained within the edge.
            </li>
            <li>
                Maximum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the maximum of the values of 
                these attributes for all transactions contained within the edge.
            </li>
            <li>
                Minimum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the minimum of the values of 
                these attributes for all transactions contained within the edge.
            </li>
            <li>
                Unique Values Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the list of unique values for 
                these attributes for all transactions contained within the edge.
            </li>
        </ol>
        <h3>Link Categories</h3>
        <ol>
            <li>
                Attribute - Properties listed will be the attributes of the link.
            </li>
            <li>
                Graph Property - Properties will include transaction properties such as transaction count.
            </li>
            <li>
                Source Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the source node of the link (source has lower graph ID).
            </li>
            <li>
                Destination Node Attribute - Properties will be the list of node attributes, and the value will be value of 
                these attributes for the destination node of the link (destination has higher graph ID).
            </li>
            <li>
                Sum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the sum of the values of 
                these attributes for all transactions contained within the link.
            </li>
            <li>
                Average Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the average of the values of 
                these attributes for all transactions contained within the link.
            </li>
            <li>
                Maximum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the maximum of the values of 
                these attributes for all transactions contained within the link.
            </li>
            <li>
                Minimum Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the minimum of the values of 
                these attributes for all transactions contained within the link.
            </li>
            <li>
                Unique Values Transaction Attribute - Properties will be the list of transaction attributes, and the value will be the list of unique values for 
                these attributes for all transactions contained within the link.
            </li>
        </ol>
        <h2>Property Drop Down List</h2>
        <p>The Property Drop Down List will display properties to histogram. The properties listed will change depending on the Graph Element and Category selected - see above.</p>
        <p>The Format Drop Down List will provide different ways of grouping values for properties, depending on the type.</p>
        <ol>
            <li>
                String - Allows for grouping by substring, case (upper or lower) and find (which accepts regular expressions).
            </li>
            <li>
                Numeric - Allows for binning into buckets of values.
            </li>
            <li>
                DateTime - Allows for grouping by various DateTime formats - Hour of Day, Day of Week, Month of Year, Date, Year, and so on.
            </li>
            <li>
                Schema Type - Allows for grouping by Top-Level Schema Types
            </li>
        </ol>
        <h2>Sort Drop Down List</h2>
        <p><img src="resources/Histogram-Asc.png" alt=""><img src="resources/Histogram-Desc.png" alt=""></p>
        <p>The Sort Drop Down List will display options for sorting the rows of the Histogram.</p>
        <p>The Arrow Button will toggle Ascending/Descending values.</p>
        <ol>
            <li>
                Label - Will sort the rows of the Histogram alphabetically by Property Value label.
            </li>
            <li>
                Total Count - Will sort the rows of the Histogram in order of Count values.
            </li>
            <li>
                Selected Count - Will sort the rows of the Histogram in order of the number of elements sharing a Property Value that are selected.
            </li>
            <li>
                Selected Proportion - Will sort the rows of the Histogram in order of the proportion of elements sharing a Property Value that are selected.
            </li>
        </ol>
        <h2>Selection Mode Drop Down List</h2>
        <p>The Selection Mode will toggle the interactivity of the Histogram View.</p>
        <ol>
            <li>
                Free Selection - The default setting. Clicking rows which change the selection on the graph. Left clicking on a row in the Histogram Panel 
                will select all elements on the graph which share that Property Value. Holding left click and dragging across multiple rows will select multiple rows. 
                Holding the shift key while left clicking will add the clicked row elements to the selection. Holding the ctrl key while left clicking will toggle 
                the selection of the clicked row elements. 
            </li>
            <li>
                Within Existing Selection - Clicking rows will not change the selection on the graph until the adjacent <strong>Select</strong> button is pressed.
                This mode will allow for filtering on the existing graph selection. Clicking on a row with selected (red) elements will change their colour to yellow. 
                Pressing the adjacent <strong>Select</strong> button will change the selection on the graph to all yellow elements. Holding the shift key while left clicking 
                will change red elements of rows to yellow. Holding the ctrl key while left clicking will toggle elements of rows between red and yellow. <br />
                <img src="resources/Histogram-Within.png" alt="">
            </li>
            <li>
                Add To Existing Selection - Clicking rows will not change the selection on the graph until the adjacent <strong>Select</strong> button is pressed.
                This mode will allow for adding rows to the existing graph selection. Clicking on a row with unselected (blue) elements will change their colour to yellow. 
                Pressing the adjacent <strong>Select</strong> button will change the selection on the graph to all yellow elements. Holding the shift key while left clicking 
                will change blue elements of rows to yellow. Holding the ctrl key while left clicking will toggle elements of rows between blue and yellow. <br />
                <img src="resources/Histogram-Add.png" alt="">
            </li>
        </ol>
        <h2>Filter</h2>
        <img src="resources/Histogram-Filter.png" alt="">
        <p>The Filter on Selection button will hide unselected elements from the Histogram View, until such time as the Clear Filter Button is pressed. The Clear Filter Button 
            will activate only when a Histogram filter is in place, and as such is useful to check when elements are missing from the Histogram View.</p>
        <h2>Actions</h2>
        <p>Pressing the Actions button will reveal two options: Save Bins To Graph and Save Bins To Clipboard</p>
        <ol>
            <li>
                Save Bins to Graph - Will add a histogram_bin attribute to the graph, and the value of which corresponding to the Property Value of the node or transaction.
            </li>
            <li>
                Save Bins to Clipboard - Will copy the Property Values and Counts displayed in the Histogram View to the clipboard, which can be pasted into a text editor in a 
                tab delimited format.
            </li>
        </ol>

    </body>
</html>
