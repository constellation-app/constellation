<html>
    <head>
        <title>About the 3D Visual Window</title>
        <link rel="stylesheet" href="nbdocs://au.gov.asd.tac.constellation.preferences/au/gov/asd/tac/constellation/preferences/constellation.css" type="text/css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>About the 3D Visual Window</h1>
        <p>
            The visual window provides a 3D display of a graph.
        </p>
        <h2>Graph components</h2>
        <p>
            Graphs are built from two elements; nodes and transactions.
        </p>
        <ul>
            <li>
                Transactions can be directed or undirected.
            </li>
            <li>A collection of transactions between two nodes in the same direction is called an edge.
                (There can be a maximum of three edges between two nodes.)
            </li>
            <li>
                The collection of all transactions between two nodes (regardless of direction) is called a link.
                (There can be a maximum of one link between two nodes.)
            </li>
        </ul>


        <h2>Navigating the graph</h2>
        <p>
            The graph can navigated using the mouse and keyboard keys. Menus can be used to manipulate the graph. Some menus
            have keys assigned to them by default, but you can change the key assignments using Tools &rarr; Options &rarr; Keymap.
        </p>

        <h3>Using the mouse</h3>
        <p>
            In general, the left button is for selecting, the middle button for rotating, and the right button for dragging and panning.
        </p>
        <table border="1">
            <tr><td>Left-click on an element</td><td>Select a node or transaction.</td></tr>
            <tr><td>Left-click on the background</td><td>Set focus on the graph window.</td></tr>
            <tr><td>Double-left-click on the background</td><td>Deselect all elements</td></tr>
            <tr><td>Shift-left-click on an element</td><td>Select additional nodes and/or transactions.</td></tr>
            <tr><td>Ctrl-left-click on an element</td><td>Toggle selection of nodes and/or transactions.</td></tr>
            <tr><td>Left-drag</td><td>Select multiple nodes and/or transactions.</td></tr>
            <tr><td>Shift-left-drag</td><td>Select additional multiple nodes and/or transactions.</td></tr>
            <tr><td>Ctrl-left-drag</td><td>Toggle selection of multiple nodes and/or transactions.</td></tr>
            <tr>
                <td>Middle-drag</td>
                <td>Rotate the graph.
                    <br>
                    Dragging the mouse up and down the middle of the window will rotate around the X axis.
                    <br>
                    Dragging the mouse across the middle of the window will rotate around the Y axis.
                    <br>
                    Dragging the mouse along the edges of the window will rotate around the Z axis.
                </td>
            </tr>
            <tr><td>Right-drag on background</td><td>Pan the graph.</td></tr>
            <tr><td>Right-drag on node</td><td>Drag the node and other selected nodes.</td></tr>
            <tr><td>Right-drag on transaction</td><td>Pan the graph.</td></tr>
        </table>

        <h2>Graph Sidebar</h2>
        <p>
            Each graph display has a sidebar containing some commonly used actions.
        </p>

        <h3>Visibility Mode</h3>
        <table border="1">
            <tr>
                <td><img src="resources/nodes.png" alt=""></td>
                <td>Draw/don't draw nodes.</td>
            </tr>
            <tr>
                <td><img src="resources/connections.png" alt=""></td>
                <td>Draw/don't draw connections.</td>
            </tr>
            <tr>
                <td><img src="resources/node_labels.png" alt=""></td>
                <td>Draw/don't draw labels on nodes.</td>
            </tr>
            <tr>
                <td><img src="resources/connection_labels.png" alt=""></td>
                <td>Draw/don't draw labels on connections.</td>
            </tr>
            <tr>
                <td><img src="resources/blazes.png" alt=""></td>
                <td>Draw/don't draw blazes.</td>
            </tr>
            <tr>
                <td><img src="resources/expand.png" alt=""></td>
                <td>Contract selected nodes into a <em>composite</em> node</td>
            </tr>
            <tr>
                <td><img src="resources/contract.png" alt=""></td>
                <td>Expand a <em>composite</em> node back to nodes and transactions</td>
            </tr>
            <tr>
                <td><img src="resources/visible.png" alt=""></td>
                <td>Show all nodes, connections, blazers and labels. With this setting, the <a href="nbdocs://au.gov.asd.tac.constellation.visual.opengl/au/gov/asd/tac/constellation/display/docs/display-about.html"><strong>Graph Visibility Threshold</strong></a>  is ignored.</td>
            </tr>
            <tr>
                <td><img src="resources/hidden.png" alt=""></td>
                <td>
                    Hide all nodes, connections, blazers and labels when the <a href="nbdocs://au.gov.asd.tac.constellation.visual.opengl/au/gov/asd/tac/constellation/display/docs/display-about.html"><strong>Graph Visibility Threshold</strong></a> is reached.
                    <br>
                    Visualising a large graph will have an impact on performance so hiding everything on the graph can reduce the load on the graphics card. You can still use the histogram and table view to clean up your data before you enable graph visualisation.
                </td>
            </tr>
            <tr>
                <td><img src="resources/snowflake.png" alt=""></td>
                <td>Freeze the camera from performing annimations when you run Data Access View plugins.</td>
            </tr>
            <tr>
                <td><img src="resources/snowflake_alternate.png" alt=""></td>
                <td>When disabled, allow the graph view to change when running Data Access View plugins.</td>
            </tr>
        </table>
        <p>
            These buttons specify which display elements are drawn. Nodes are drawn using an icon and a background
            shape and color. Connections (links, edges, or transactions) are drawn using a color: when links
            and edges are drawn and the underlying transactions have different colors, grey is used. Text can be drawn
            above and below nodes: use the graph-level attributes <span class="mono">labels_bottom</span> and
            <span class="mono">labels_top</span> to determine what text is drawn.
        </p>


        <h3>Connection Mode</h3>
        <table border="1">
            <tr><td><img src="resources/links.png" alt=""></td><td>Draw links.</td></tr>
            <tr><td><img src="resources/edges.png" alt=""></td><td>Draw edges.</td></tr>
            <tr><td><img src="resources/transactions.png" alt=""></td><td>Draw transactions.</td></tr>
        </table>
        <p>
            These buttons specify whether links, edges, or transactions will be displayed.
        </p>
        <ul>
            <li>When links are drawn (all transactions between two nodes are draw as one link line, regardless of direction),
                the color of the line will be the same as the color of the transactions if all of the transactions between
                the two nodes are the same color; otherwise, the link will be drawn in grey.</li>
            <li>When edges are drawn (transactions are drawn using up to three edge lines: one in each direction, and one
                undirected), the color of each line will be the same as the color of the transactions in that direction if all of
                the transactions in that direction between the two nodes are the same color; otherwise, the edge will be drawn
                in grey.</li>
            <li>When transactions are drawn (each transaction is drawn with its own line), transactions are drawn individually
                up to a limit. By default, the limit is eight lines. If there are more than eight transactions between two nodes,
                they will be drawn as the corresponding edge.</li>
        </ul>

        <h3>Graphics Mode</h3>
        <table border="1">
            <tr><td><img src="resources/2d.png" alt=""></td><td>Two dimensional rotation</td></tr>
            <tr><td><img src="resources/3d.png" alt=""></td><td>Three dimensional rotation</td></tr>
        </table>
        <p>
            Some graphs are two-dimensional (all nodes have z equal to 0), so it is convenient to only allow one axis of rotation.
            With 2D selected, rotation is restricted to the z-axis. With 3D selected, rotation is allowed in the x, y, and z axes.
            Either way, rotation works as described above.
        </p>
        <p>
            The default for rotation can be changed at Tools &rarr; Options &rarr; CONSTELLATION &rarr; Graph drawing.
        </p>
    </body>
</html>
